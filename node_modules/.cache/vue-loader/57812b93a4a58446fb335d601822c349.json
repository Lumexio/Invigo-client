{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-activitylog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-activitylog.vue","mtime":1660072767786},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1642231925225},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1642231925691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFjdGl2aXR5bG9nIH0gZnJvbSAiQC9hcGkvYWN0aXZpdHlsb2cuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0YWJsYS1hY3Rpdml0eWxvZyIsCiAgZGF0YTogKCkgPT4gKHsKICAgIHNlYXJjaDogIiIsCiAgICBjYXJnYW5kbzogdHJ1ZSwKICAgIGV4cGFuZGVkOiBbXSwKICAgIGhlYWRlcnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICJBY3RpdmlkYWQiLAogICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogImFjY2lvbiIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiUmVzcG9uc2FibGUiLAogICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogImNhdXNlcm5hbWUiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkNyZWFkbyBlbiIsCiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAiY3JlYXRlZGF0IiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJBY3R1YWxpemFkbyBlbiIsCiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAidXBkYXRlZGF0IiwKICAgICAgfSwKICAgICAgeyB0ZXh0OiAiRGVzY3JpcGNpw7NuIiwgYWxpZ246ICJzdGFydCIsIHZhbHVlOiAiZGF0YS10YWJsZS1leHBhbmQiIH0sCiAgICBdLAoKICAgIGFjdGl2aXR5bG9nQXJyYXk6IFtdLAogIH0pLAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9uRm9jdXMoKTsKICAgIC8vIHdpbmRvdy5FY2hvLmNoYW5uZWwoImFjdGl2aXR5bG9nIikubGlzdGVuKCJhY3Rpdml0eWxvZ0NyZWF0ZWQiLCAoZSkgPT4gewogICAgLy8gICB0aGlzLmFjdGl2aXR5bG9nQXJyYXkgPSBlLmFjdGl2aXR5bG9nOwogICAgLy8gfSk7CiAgICBnZXRBY3Rpdml0eWxvZyh0aGlzLmFjdGl2aXR5bG9nQXJyYXkpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0cyA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLmNhcmdhbmRvID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB0aGlzLmNhcmdhbmRvID0gdHJ1ZTsKICAgICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZvY3VzKCkgewogICAgICBsZXQgc3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib25zZWFyY2giKTsKICAgICAgc3RleHQ7CiAgICAgIHN0ZXh0ID0gYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIChlKSA9PiB7CiAgICAgICAgaWYgKGUuYWx0S2V5KSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib25zZWFyY2giKS5mb2N1cygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZmlsdGVyT25seUNhcHNUZXh0KHZhbHVlLCBzZWFyY2gpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB2YWx1ZSAhPSBudWxsICYmCiAgICAgICAgc2VhcmNoICE9IG51bGwgJiYKICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmCiAgICAgICAgdmFsdWUudG9TdHJpbmcoKS50b0xvY2FsZVVwcGVyQ2FzZSgpLmluZGV4T2Yoc2VhcmNoKSAhPT0gLTEKICAgICAgKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["tabla-activitylog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tabla-activitylog.vue","sourceRoot":"src/components/table-lists","sourcesContent":["<template>\n  <v-data-table\n    :dark=\"this.$store.getters.hasdarkflag\"\n    id=\"tabla\"\n    :headers=\"headers\"\n    show-expand\n    :expanded.sync=\"expanded\"\n    :items=\"activitylogArray\"\n    sort-by=\"cantidad_articulo\"\n    class=\"elevation-1\"\n    :search=\"search\"\n    :custom-filter=\"filterOnlyCapsText.toUpperCase\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"transparent\">\n        <v-toolbar-title>Tabla historial</v-toolbar-title>\n        <v-divider class=\"ml-4\" inset vertical></v-divider>\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          label=\"Buscar actividad\"\n          class=\"mt-4\"\n          id=\"onsearch\"\n        ></v-text-field>\n      </v-toolbar>\n      <v-progress-linear\n        height=\"6\"\n        indeterminate\n        color=\"cyan\"\n        :active=\"cargando\"\n      ></v-progress-linear\n    ></template>\n    <template v-slot:no-data>\n      <span>Datos no disponibles.</span>\n    </template>\n    <template v-slot:expanded-item=\"{ headers, item }\">\n      <td :colspan=\"headers.length\">\n        {{ item.properties }}\n      </td>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport { getActivitylog } from \"@/api/activitylog.js\";\n\nexport default {\n  name: \"tabla-activitylog\",\n  data: () => ({\n    search: \"\",\n    cargando: true,\n    expanded: [],\n    headers: [\n      {\n        text: \"Actividad\",\n        align: \"start\",\n        sortable: false,\n        value: \"accion\",\n      },\n      {\n        text: \"Responsable\",\n        align: \"start\",\n        sortable: false,\n        value: \"causername\",\n      },\n      {\n        text: \"Creado en\",\n        align: \"start\",\n        sortable: false,\n        value: \"createdat\",\n      },\n      {\n        text: \"Actualizado en\",\n        align: \"start\",\n        sortable: false,\n        value: \"updatedat\",\n      },\n      { text: \"DescripciÃ³n\", align: \"start\", value: \"data-table-expand\" },\n    ],\n\n    activitylogArray: [],\n  }),\n  mounted() {\n    this.onFocus();\n    // window.Echo.channel(\"activitylog\").listen(\"activitylogCreated\", (e) => {\n    //   this.activitylogArray = e.activitylog;\n    // });\n    getActivitylog(this.activitylogArray)\n      .then((response) => {\n        if (response.stats === 200) {\n          this.cargando = false;\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        this.cargando = true;\n      });\n  },\n  methods: {\n    onFocus() {\n      let stext = document.getElementById(\"onsearch\");\n      stext;\n      stext = addEventListener(\"keydown\", (e) => {\n        if (e.altKey) {\n          document.getElementById(\"onsearch\").focus();\n        }\n      });\n    },\n    filterOnlyCapsText(value, search) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().toLocaleUpperCase().indexOf(search) !== -1\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n#tabla {\n  width: 100%;\n}\n.tabla {\n  width: 100%;\n}\n</style>"]}]}