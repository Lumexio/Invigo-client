{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/table-travesano.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/table-travesano.vue","mtime":1660072767793},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1642231925225},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1642231925691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglnZXRUcmF2ZXNhbm8sCglkZWxldGVUcmF2ZXNhbm8sCgllZGl0VHJhdmVzYW5vLAp9IGZyb20gIkAvYXBpL3RyYXZlc2Fub3MuanMiOwppbXBvcnQgeyB1cHBlckNvbnZlcnRlciB9IGZyb20gIkAvc3BlY2lhbC91cHBlcmNhc2VzLWNvbnZlcnRlci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKCW5vbWJyZTogInRhYmxhLXRyYXZlc2FubyIsCglkYXRhOiAoKSA9PiAoewoJCWRpYWxvZzogZmFsc2UsCgkJZGlhbG9nRGVsZXRlOiBmYWxzZSwKCQlzZWFyY2g6ICIiLAoJCWNhcmdhbmRvOiB0cnVlLAoJCWhlYWRlcnM6IFsKCQkJewoJCQkJdGV4dDogIlRyYXZlc2HDsW8iLAoJCQkJYWxpZ246ICJzdGFydCIsCgkJCQlzb3J0YWJsZTogZmFsc2UsCgkJCQl2YWx1ZTogIm5vbWJyZV90cmF2ZXNhbm8iLAoJCQl9LAoKCQkJeyB0ZXh0OiAiQWNjaW9uZXMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwKCQldLAoKCQl0cmF2ZXNhbm9BcnJheTogW10sCgoJCWVkaXRlZEluZGV4OiAtMSwKCQllZGl0ZWRJdGVtOiB7CgkJCWlkOiAiIiwKCQkJbm9tYnJlX3RyYXZlc2FubzogIiIsCgkJfSwKCQlkZWZhdWx0SXRlbTogewoJCQlpZDogIiIsCgkJCW5vbWJyZV90cmF2ZXNhbm86ICIiLAoJCX0sCgl9KSwKCW1vdW50ZWQoKSB7CgkJdGhpcy5vbkZvY3VzKCk7CgkJd2luZG93LkVjaG8uY2hhbm5lbCgidHJhdmVzYW5vcyIpLmxpc3RlbigidHJhdmVzYcOxb0NyZWF0ZWQiLCAoZSkgPT4gewoJCQl0aGlzLnRyYXZlc2Fub0FycmF5ID0gZS50cmF2ZXNhbm9zOwoJCX0pOwoJCWdldFRyYXZlc2Fubyh0aGlzLnRyYXZlc2Fub0FycmF5KQoJCQkudGhlbigocmVzcG9uc2UpID0+IHsKCQkJCWlmIChyZXNwb25zZS5zdGF0cyA9PT0gMjAwKSB7CgkJCQkJdGhpcy5jYXJnYW5kbyA9IGZhbHNlOwoJCQkJfQoJCQl9KQoJCQkuY2F0Y2goKGUpID0+IHsKCQkJCWNvbnNvbGUubG9nKGUpOwoJCQkJdGhpcy5jYXJnYW5kbyA9IHRydWU7CgkJCX0pOwoJfSwKCgljb21wdXRlZDogewoJCWZvcm1UaXRsZSgpIHsKCQkJcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gIk5ldyBJdGVtIiA6ICJFZGl0YXIgdHJhdmVzYW5vIjsKCQl9LAoJfSwKCgl3YXRjaDogewoJCWRpYWxvZyh2YWwpIHsKCQkJdmFsIHx8IHRoaXMuY2xvc2UoKTsKCQl9LAoJCWRpYWxvZ0RlbGV0ZSh2YWwpIHsKCQkJdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKCQl9LAoJfSwKCgljcmVhdGVkKCkge30sCgoJbWV0aG9kczogewoJCW9uRm9jdXMoKSB7CgkJCWxldCBzdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbnNlYXJjaCIpOwoJCQlzdGV4dDsKCQkJc3RleHQgPSBhZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsKCQkJCWlmIChlLmFsdEtleSkgewoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbnNlYXJjaCIpLmZvY3VzKCk7CgkJCQl9CgkJCX0pOwoJCX0sCgkJZmlsdGVyT25seUNhcHNUZXh0KHZhbHVlLCBzZWFyY2gpIHsKCQkJcmV0dXJuICgKCQkJCXZhbHVlICE9IG51bGwgJiYKCQkJCXNlYXJjaCAhPSBudWxsICYmCgkJCQl0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmCgkJCQl2YWx1ZS50b1N0cmluZygpLnRvTG9jYWxlVXBwZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gpICE9PSAtMQoJCQkpOwoJCX0sCgoJCWVkaXRJdGVtKGl0ZW0pIHsKCQkJdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMudHJhdmVzYW5vQXJyYXkuaW5kZXhPZihpdGVtKTsKCQkJdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CgoJCQl0aGlzLmRpYWxvZyA9IHRydWU7CgkJfSwKCgkJZGVsZXRlSXRlbShpdGVtKSB7CgkJCXRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLnRyYXZlc2Fub0FycmF5LmluZGV4T2YoaXRlbSk7CgkJCXRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwoJCQl0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CgoJCQlsZXQgaWQgPSB0aGlzLmVkaXRlZEl0ZW0uaWQ7CgkJCWRlbGV0ZVRyYXZlc2FubyhpZCk7CgkJfSwKCgkJZGVsZXRlSXRlbUNvbmZpcm0oKSB7CgkJCXRoaXMudHJhdmVzYW5vQXJyYXkuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpOwoJCQl0aGlzLmNsb3NlRGVsZXRlKCk7CgkJfSwKCgkJY2xvc2UoKSB7CgkJCXRoaXMuZGlhbG9nID0gZmFsc2U7CgkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCXRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwoJCQkJdGhpcy5lZGl0ZWRJbmRleCA9IC0xOwoJCQl9KTsKCQl9LAoKCQljbG9zZURlbGV0ZSgpIHsKCQkJdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKCQkJdGhpcy4kbmV4dFRpY2soKCkgPT4gewoJCQkJdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7CgkJCQl0aGlzLmVkaXRlZEluZGV4ID0gLTE7CgkJCX0pOwoJCX0sCgoJCXNhdmUoKSB7CgkJCWlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKCQkJCU9iamVjdC5hc3NpZ24odGhpcy50cmF2ZXNhbm9BcnJheVt0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKCQkJCWxldCBzZW5kID0gdGhpcy5lZGl0ZWRJdGVtOwoJCQkJc2VuZC5ub21icmVfdHJhdmVzYW5vID0gdXBwZXJDb252ZXJ0ZXIoc2VuZC5ub21icmVfdHJhdmVzYW5vKTsKCQkJCWxldCB1cmwgPSAiYXBpL3RyYXZlc2Fuby8iOwoJCQkJdXJsID0gdXJsICsgc2VuZC5pZDsKCQkJCXVybCA9IGAke3VybH0/JHsibm9tYnJlX3RyYXZlc2Fubz0iICsgc2VuZC5ub21icmVfdHJhdmVzYW5vfWA7CgkJCQllZGl0VHJhdmVzYW5vKHVybCk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLnRyYXZlc2Fub0FycmF5LnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKCQkJfQoJCQl0aGlzLmNsb3NlKCk7CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["table-travesano.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"table-travesano.vue","sourceRoot":"src/components/table-lists","sourcesContent":["<template>\n\t<v-data-table\n\t\t:dark=\"this.$store.getters.hasdarkflag\"\n\t\tid=\"tabla\"\n\t\t:headers=\"headers\"\n\t\t:items=\"travesanoArray\"\n\t\tsort-by=\"cantidad_articulo\"\n\t\tclass=\"elevation-1\"\n\t\t:search=\"search\"\n\t\t:custom-filter=\"filterOnlyCapsText.toUpperCase\"\n\t>\n\t\t<template v-slot:top>\n\t\t\t<v-toolbar flat color=\"transparent\">\n\t\t\t\t<v-toolbar-title>Tabla travesaño</v-toolbar-title>\n\t\t\t\t<v-divider class=\"ml-4\" inset vertical></v-divider>\n\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t<v-text-field\n\t\t\t\t\tv-model=\"search\"\n\t\t\t\t\tlabel=\"Buscar travesaños\"\n\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\tid=\"onsearch\"\n\t\t\t\t></v-text-field>\n\t\t\t</v-toolbar>\n\t\t\t<v-progress-linear\n\t\t\t\theight=\"6\"\n\t\t\t\tindeterminate\n\t\t\t\tcolor=\"cyan\"\n\t\t\t\t:active=\"cargando\"\n\t\t\t></v-progress-linear>\n\t\t\t<v-dialog\n\t\t\t\t:dark=\"$store.getters.hasdarkflag\"\n\t\t\t\tv-model=\"dialog\"\n\t\t\t\tmax-width=\"500px\"\n\t\t\t>\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-card-title>\n\t\t\t\t\t\t<h1 class=\"headline\">{{ formTitle }}</h1>\n\t\t\t\t\t</v-card-title>\n\n\t\t\t\t\t<v-card-text>\n\t\t\t\t\t\t<v-container>\n\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\n\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.nombre_travesano\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nombre\"\n\t\t\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t</v-container>\n\t\t\t\t\t</v-card-text>\n\n\t\t\t\t\t<v-card-actions v-on:keyup.enter=\"save\">\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"close\"> Cancelar </v-btn>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"save\"> Guardar </v-btn>\n\t\t\t\t\t</v-card-actions>\n\t\t\t\t</v-card>\n\t\t\t</v-dialog>\n\t\t\t<v-dialog\n\t\t\t\t:dark=\"$store.getters.hasdarkflag\"\n\t\t\t\tv-model=\"dialogDelete\"\n\t\t\t\tmax-width=\"500px\"\n\t\t\t>\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-card-title class=\"headline\"\n\t\t\t\t\t\t>¿Estas seguro de querer eliminarlo?</v-card-title\n\t\t\t\t\t>\n\t\t\t\t\t<v-card-actions v-on:keyup.enter=\"deleteItemConfirm\">\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n\t\t\t\t\t\t\t>Cancelar</v-btn\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n\t\t\t\t\t\t\t>Aceptar</v-btn\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t</v-card-actions>\n\t\t\t\t</v-card>\n\t\t\t</v-dialog>\n\t\t</template>\n\t\t<template v-slot:[`item.actions`]=\"{ item }\">\n\t\t\t<v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n\t\t\t<v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n\t\t</template>\n\t\t<template v-slot:no-data>\n\t\t\t<span>Datos no disponibles.</span>\n\t\t</template>\n\t</v-data-table>\n</template>\n\n<script>\nimport {\n\tgetTravesano,\n\tdeleteTravesano,\n\teditTravesano,\n} from \"@/api/travesanos.js\";\nimport { upperConverter } from \"@/special/uppercases-converter.js\";\nexport default {\n\tnombre: \"tabla-travesano\",\n\tdata: () => ({\n\t\tdialog: false,\n\t\tdialogDelete: false,\n\t\tsearch: \"\",\n\t\tcargando: true,\n\t\theaders: [\n\t\t\t{\n\t\t\t\ttext: \"Travesaño\",\n\t\t\t\talign: \"start\",\n\t\t\t\tsortable: false,\n\t\t\t\tvalue: \"nombre_travesano\",\n\t\t\t},\n\n\t\t\t{ text: \"Acciones\", value: \"actions\", sortable: false },\n\t\t],\n\n\t\ttravesanoArray: [],\n\n\t\teditedIndex: -1,\n\t\teditedItem: {\n\t\t\tid: \"\",\n\t\t\tnombre_travesano: \"\",\n\t\t},\n\t\tdefaultItem: {\n\t\t\tid: \"\",\n\t\t\tnombre_travesano: \"\",\n\t\t},\n\t}),\n\tmounted() {\n\t\tthis.onFocus();\n\t\twindow.Echo.channel(\"travesanos\").listen(\"travesañoCreated\", (e) => {\n\t\t\tthis.travesanoArray = e.travesanos;\n\t\t});\n\t\tgetTravesano(this.travesanoArray)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.stats === 200) {\n\t\t\t\t\tthis.cargando = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tthis.cargando = true;\n\t\t\t});\n\t},\n\n\tcomputed: {\n\t\tformTitle() {\n\t\t\treturn this.editedIndex === -1 ? \"New Item\" : \"Editar travesano\";\n\t\t},\n\t},\n\n\twatch: {\n\t\tdialog(val) {\n\t\t\tval || this.close();\n\t\t},\n\t\tdialogDelete(val) {\n\t\t\tval || this.closeDelete();\n\t\t},\n\t},\n\n\tcreated() {},\n\n\tmethods: {\n\t\tonFocus() {\n\t\t\tlet stext = document.getElementById(\"onsearch\");\n\t\t\tstext;\n\t\t\tstext = addEventListener(\"keydown\", (e) => {\n\t\t\t\tif (e.altKey) {\n\t\t\t\t\tdocument.getElementById(\"onsearch\").focus();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tfilterOnlyCapsText(value, search) {\n\t\t\treturn (\n\t\t\t\tvalue != null &&\n\t\t\t\tsearch != null &&\n\t\t\t\ttypeof value === \"string\" &&\n\t\t\t\tvalue.toString().toLocaleUpperCase().indexOf(search) !== -1\n\t\t\t);\n\t\t},\n\n\t\teditItem(item) {\n\t\t\tthis.editedIndex = this.travesanoArray.indexOf(item);\n\t\t\tthis.editedItem = Object.assign({}, item);\n\n\t\t\tthis.dialog = true;\n\t\t},\n\n\t\tdeleteItem(item) {\n\t\t\tthis.editedIndex = this.travesanoArray.indexOf(item);\n\t\t\tthis.editedItem = Object.assign({}, item);\n\t\t\tthis.dialogDelete = true;\n\n\t\t\tlet id = this.editedItem.id;\n\t\t\tdeleteTravesano(id);\n\t\t},\n\n\t\tdeleteItemConfirm() {\n\t\t\tthis.travesanoArray.splice(this.editedIndex, 1);\n\t\t\tthis.closeDelete();\n\t\t},\n\n\t\tclose() {\n\t\t\tthis.dialog = false;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\n\t\t\t\tthis.editedIndex = -1;\n\t\t\t});\n\t\t},\n\n\t\tcloseDelete() {\n\t\t\tthis.dialogDelete = false;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\n\t\t\t\tthis.editedIndex = -1;\n\t\t\t});\n\t\t},\n\n\t\tsave() {\n\t\t\tif (this.editedIndex > -1) {\n\t\t\t\tObject.assign(this.travesanoArray[this.editedIndex], this.editedItem);\n\t\t\t\tlet send = this.editedItem;\n\t\t\t\tsend.nombre_travesano = upperConverter(send.nombre_travesano);\n\t\t\t\tlet url = \"api/travesano/\";\n\t\t\t\turl = url + send.id;\n\t\t\t\turl = `${url}?${\"nombre_travesano=\" + send.nombre_travesano}`;\n\t\t\t\teditTravesano(url);\n\t\t\t} else {\n\t\t\t\tthis.travesanoArray.push(this.editedItem);\n\t\t\t}\n\t\t\tthis.close();\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n#tabla {\n\twidth: 60rem;\n}\n.tabla {\n\twidth: 60rem;\n}\n</style>"]}]}