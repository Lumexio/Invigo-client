{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-usuarios.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-usuarios.vue","mtime":1692826408711},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/babel.config.js","mtime":1660081311958},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1660080774033},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1660080780218}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwppbXBvcnQgeyB1cHBlckNvbnZlcnRlciB9IGZyb20gIkAvc3BlY2lhbC91cHBlcmNhc2VzLWNvbnZlcnRlci5qcyI7IC8vYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKCmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovLzEyNy4wLjAuMTo4MDAwLyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidGFibGEtdXN1YXJpb3MiLAogIGRhdGE6ICgpID0+ICh7CiAgICBkaWFsb2c6IGZhbHNlLAogICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgIHNlYXJjaDogIiIsCiAgICBwYXNzd29yZDogIiIsCiAgICBjYXJnYW5kbzogdHJ1ZSwKICAgIHNob3czOiBmYWxzZSwKICAgIGhlYWRlcnM6IFt7CiAgICAgIHRleHQ6ICJOb21icmUiLAogICAgICBhbGlnbjogInN0YXJ0IiwKICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogIm5hbWUiCiAgICB9LCB7CiAgICAgIHRleHQ6ICJSb2wiLAogICAgICB2YWx1ZTogIm5hbWVfcm9sIgogICAgfSwgewogICAgICB0ZXh0OiAiQWNjaW9uZXMiLAogICAgICB2YWx1ZTogImFjdGlvbnMiLAogICAgICBzb3J0YWJsZTogZmFsc2UKICAgIH1dLAogICAgdXNlcnNBcnJheTogW10sCiAgICAvL3ZhcmlhYmxlIGVuIGxhIHF1ZSBzZSBkZXBvc2l0YSBsYSBwb3NpY2lvbiBlbiBlbCBzZWxlY3RvcgogICAgc2VsZWN0cm9sOiBudWxsLAogICAgLy9Sb2wKICAgIC8vQXJyYXkgZW4gZWwgcXVlIHNlIGRlcG9zaXRhIGRlIGxvcyBzZWxlY3RvcmVzLgogICAgaXRlbXNyb2w6IFtdLAogICAgLy9Sb2wKICAgIGVkaXRlZEluZGV4OiAtMSwKICAgIGVkaXRlZEl0ZW06IHsKICAgICAgaWQ6ICIiLAogICAgICBuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBuYW1lX3JvbDogIiIKICAgIH0sCiAgICBkZWZhdWx0SXRlbTogewogICAgICBpZDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG5hbWVfcm9sOiAiIgogICAgfQogIH0pLAoKICBtb3VudGVkKCkgewogICAgdGhpcy5vbkZvY3VzKCk7CiAgICB3aW5kb3cuRWNoby5jaGFubmVsKCJ1c2VycyIpLmxpc3RlbigidXNlckNyZWF0ZWQiLCBlID0+IHsKICAgICAgdGhpcy51c2Vyc0FycmF5ID0gZS51c2VyczsKICAgIH0pOwogICAgd2luZG93LkVjaG8uY2hhbm5lbCgicm9sZXMiKS5saXN0ZW4oInJvbENyZWF0ZWQiLCBlID0+IHsKICAgICAgdGhpcy5pdGVtc3JvbCA9IGUucm9sZXM7CiAgICB9KTsKICAgIGF4aW9zLmdldCgiYXBpL3VzZXIiKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgbGV0IHVzZXIgPSByZXNwb25zZS5kYXRhOwogICAgICB1c2VyLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgbGV0IGRhdG9zID0gewogICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsCiAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsCiAgICAgICAgICBuYW1lX3JvbDogZWxlbWVudC5uYW1lX3JvbAogICAgICAgIH07CiAgICAgICAgaWYgKCFkYXRvcykgcmV0dXJuOwogICAgICAgIHRoaXMudXNlcnNBcnJheS5wdXNoKGRhdG9zKTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2FyZ2FuZG8gPSBmYWxzZTsKICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CiAgICBheGlvcy5nZXQoImFwaS9yb2wiKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgbGV0IGNhdGVnb3JpYXMgPSByZXNwb25zZS5kYXRhOwogICAgICBjYXRlZ29yaWFzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgbGV0IGRhdG9zID0gewogICAgICAgICAgcm9sX2lkOiBlbGVtZW50LmlkLAogICAgICAgICAgbmFtZV9yb2w6IGVsZW1lbnQubmFtZV9yb2wKICAgICAgICB9OwogICAgICAgIGlmICghZGF0b3MpIHJldHVybjsKICAgICAgICB0aGlzLml0ZW1zcm9sLnB1c2goZGF0b3MpOwogICAgICB9KTsKICAgICAgdGhpcy5jYXJnYW5kbyA9IGZhbHNlOwogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7CiAgICB9KTsKICB9LAoKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAiTmV3IEl0ZW0iIDogIkVkaXRhciB1c3VhcmlvIjsKICAgIH0sCgogICAgcHJvZ3Jlc3MoKSB7CiAgICAgIHJldHVybiBNYXRoLm1pbigxMDAsIHRoaXMuZWRpdGVkSXRlbS5wYXNzd29yZC5sZW5ndGggKiAxMyk7CiAgICB9LAoKICAgIGNvbG9yKCkgewogICAgICByZXR1cm4gWyJlcnJvciIsICJ3YXJuaW5nIiwgInN1Y2Nlc3MiXVtNYXRoLmZsb29yKHRoaXMucHJvZ3Jlc3MgLyA0MCldOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICBkaWFsb2codmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCk7CiAgICB9LAoKICAgIGRpYWxvZ0RlbGV0ZSh2YWwpIHsKICAgICAgdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHt9LAoKICBtZXRob2RzOiB7CiAgICBvbkZvY3VzKCkgewogICAgICBsZXQgc3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib25zZWFyY2giKTsKICAgICAgc3RleHQ7CiAgICAgIHN0ZXh0ID0gYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGUgPT4gewogICAgICAgIGlmIChlLmFsdEtleSkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9uc2VhcmNoIikuZm9jdXMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDb2xvcihzdGF0dXMpIHsKICAgICAgY29uc29sZS5sb2coImRhdG8gZGUgc3RhdHVzOiIsIHN0YXR1cyk7CgogICAgICBpZiAoc3RhdHVzID09ICJBZG1pbmlzdHJhdGl2byIpIHsKICAgICAgICByZXR1cm4gImFtYmVyIGxpZ2h0ZW4tMSI7CiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09ICJNZXNlckAiKSB7CiAgICAgICAgcmV0dXJuICJjeWFuIGRhcmtlbi0xIjsKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gIkNhamVyQCIpIHsKICAgICAgICByZXR1cm4gInB1cnBsZSBkYXJrZW4tMSI7CiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09ICJCYXJ0ZW5kZXIiKSB7CiAgICAgICAgcmV0dXJuICJwaW5rIGRhcmtlbi0xIjsKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gIkludGVuZGVuY2lhIikgewogICAgICAgIHJldHVybiAiaW5kaWdvIGxpZ2h0ZW4tMSI7CiAgICAgIH0KICAgIH0sCgogICAgZmlsdGVyT25seUNhcHNUZXh0KHZhbHVlLCBzZWFyY2gpIHsKICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgc2VhcmNoICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiAmJiB2YWx1ZS50b1N0cmluZygpLnRvTG9jYWxlVXBwZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gpICE9PSAtMTsKICAgIH0sCgogICAgdXNlcnN5bmMocmVjaXZlZCkgewogICAgICB2YXIgdGVtcGlkID0gbnVsbDsKICAgICAgdmFyIHRlbXBuYW1lID0gbnVsbDsKICAgICAgdGVtcG5hbWU7CgogICAgICBpZiAodGhpcy5pdGVtc3JvbCkgewogICAgICAgIGxldCByb2wgPSB0aGlzLml0ZW1zcm9sOwogICAgICAgIHJvbC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgbGV0IGRhdG9zID0gewogICAgICAgICAgICByb2xfaWQ6IGVsZW1lbnQucm9sX2lkLAogICAgICAgICAgICBuYW1lX3JvbDogZWxlbWVudC5uYW1lX3JvbAogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAoZGF0b3MubmFtZV9yb2wgPT09IHJlY2l2ZWQpIHsKICAgICAgICAgICAgdGVtcGlkID0gZGF0b3Mucm9sX2lkOwogICAgICAgICAgICB0ZW1wbmFtZSA9IGRhdG9zLm5hbWVfcm9sOwogICAgICAgICAgICB0aGlzLnNlbGVjdHJvbCA9IHRlbXBpZDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRlbXBpZDsKICAgIH0sCgogICAgZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy51c2Vyc0FycmF5LmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwoKICAgICAgaWYgKHRoaXMuZWRpdGVkSXRlbS5uYW1lX3JvbCkgewogICAgICAgIC8vY2F0ZWdvcmlhCiAgICAgICAgdGhpcy51c2Vyc3luYyh0aGlzLmVkaXRlZEl0ZW0ubmFtZV9yb2wpOwogICAgICB9CgogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy51c2Vyc0FycmF5LmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CiAgICAgIGxldCBpZCA9IHRoaXMuZWRpdGVkSXRlbS5pZDsKICAgICAgYXhpb3MuZGVsZXRlKCJhcGkvdXNlci8iICsgaWQpLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW1Db25maXJtKCkgewogICAgICB0aGlzLnVzZXJzQXJyYXkuc3BsaWNlKHRoaXMuZWRpdGVkSW5kZXgsIDEpOwogICAgICB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7CiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCgogICAgY2xvc2VEZWxldGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICBzYXZlKCkgewogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVzZXJzQXJyYXlbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgICAgbGV0IHNlbmQgPSB0aGlzLmVkaXRlZEl0ZW07CiAgICAgICAgc2VuZC5uYW1lID0gdXBwZXJDb252ZXJ0ZXIoc2VuZC5uYW1lKTsKICAgICAgICBsZXQgdXJsID0gImFwaS91c2VyLyI7CiAgICAgICAgdXJsID0gdXJsICsgc2VuZC5pZDsKICAgICAgICB1cmwgPSBgJHt1cmx9PyR7Im5hbWU9IiArIHNlbmQubmFtZX0mJHsicGFzc3dvcmQ9IiArIHNlbmQucGFzc3dvcmR9JiR7InJvbF9pZD0iICsgdGhpcy5zZWxlY3Ryb2x9YDsKICAgICAgICBheGlvcy5wdXQodXJsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHJlc3BvbnNlOwogICAgICAgICAgc3RvcmUuY29tbWl0KCJpbmNyZW1lbnQiLCAxKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpOwogICAgICAgIHdpbmRvdy5FY2hvLmNoYW5uZWwoInVzZXJzIikubGlzdGVuKCJ1c2VyQ3JlYXRlZCIsIGUgPT4gewogICAgICAgICAgdGhpcy51c2Vyc0FycmF5ID0gZS51c2VyczsKICAgICAgICB9KTsKICAgICAgICB3aW5kb3cuRWNoby5jaGFubmVsKCJyb2xlcyIpLmxpc3Rlbigicm9sQ3JlYXRlZCIsIGUgPT4gewogICAgICAgICAgdGhpcy5pdGVtc3JvbCA9IGUucm9sZXM7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2Vyc0FycmF5LnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfQoKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAgIA;AACA;AACA,mE,CACA;;AACAA;AACA;EACAC,sBADA;EAEAC;IACAC,aADA;IAEAC,mBAFA;IAGAC,UAHA;IAIAC,YAJA;IAKAC,cALA;IAMAC,YANA;IAQAC,UACA;MACAC,cADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAQA;MAAAH;MAAAG;IAAA,CARA,EAUA;MAAAH;MAAAG;MAAAD;IAAA,CAVA,CARA;IAqBAE,cArBA;IAsBA;IACAC,eAvBA;IAuBA;IAEA;IACAC,YA1BA;IA0BA;IAEAC,eA5BA;IA6BAC;MACAC,MADA;MAEAlB,QAFA;MAIAK,YAJA;MAKAc;IALA,CA7BA;IAoCAC;MACAF,MADA;MAEAlB,QAFA;MAIAK,YAJA;MAKAc;IALA;EApCA,EAFA;;EA+CAE;IACA;IACAC;MACA;IACA,CAFA;IAGAA;MACA;IACA,CAFA;IAIAvB,MACAwB,GADA,CACA,UADA,EAEAC,IAFA,CAEAC;MACA;MAEAC;QACA;UACAR,cADA;UAEAlB,kBAFA;UAIAmB;QAJA;QAMA;QACA;MACA,CATA;MAUA;IACA,CAhBA,EAiBAQ,KAjBA,CAiBAC,2BAjBA;IAmBA7B,MACAwB,GADA,CACA,SADA,EAEAC,IAFA,CAEAC;MACA;MAEAI;QACA;UACAC,kBADA;UAEAX;QAFA;QAKA;QACA;MACA,CARA;MASA;IACA,CAfA,EAgBAQ,KAhBA,CAgBAI;MACAC;IACA,CAlBA;EAmBA,CA9FA;;EAgGAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA;IACA;;EATA,CAhGA;EA4GAC;IACAnC;MACAoC;IACA,CAHA;;IAIAnC;MACAmC;IACA;;EANA,CA5GA;;EAqHAC,YArHA;;EAuHAC;IACAC;MACA;MACAC;MACAA;QACA;UACAC;QACA;MACA,CAJA;IAKA,CATA;;IAUAC;MACAZ;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAvBA;;IAwBAa;MACA,OACAjC,iBACAR,cADA,IAEA,yBAFA,IAGAQ,2DAJA;IAMA,CA/BA;;IAgCAkC;MACA;MACA;MACAC;;MACA;QACA;QACAC;UACA;YACAlB,sBADA;YAEAX;UAFA;;UAIA;YACA8B;YACAF;YAEA;UACA;QACA,CAXA;MAYA;;MAEA;IACA,CArDA;;IAuDAG;MACA;MACA;;MAEA;QACA;QACA;MACA;;MAEA;IACA,CAjEA;;IAmEAC;MACA;MACA;MACA;MACA;MACApD;IACA,CAzEA;;IA2EAqD;MACA;MACA;IACA,CA9EA;;IAgFAC;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CAtFA;;IAwFAC;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CA9FA;;IAgGAC;MACA;QACAC;QACA;QACAC;QACA;QAEAC;QACAA,sEACA,0BACA,EAFA;QAIA3D,MACA4D,GADA,CACAD,GADA,EAEAlC,IAFA,CAEAC;UACAA;UACAmC;QACA,CALA,EAMAjC,KANA,CAMAC,2BANA;QAOAN;UACA;QACA,CAFA;QAGAA;UACA;QACA,CAFA;MAGA,CAxBA,MAwBA;QACA;MACA;;MACA;IACA;;EA7HA;AAvHA","names":["axios","name","data","dialog","dialogDelete","search","password","cargando","show3","headers","text","align","sortable","value","usersArray","selectrol","itemsrol","editedIndex","editedItem","id","name_rol","defaultItem","mounted","window","get","then","response","user","catch","error","categorias","rol_id","e","console","computed","formTitle","progress","color","watch","val","created","methods","onFocus","stext","document","getColor","filterOnlyCapsText","usersync","tempname","rol","tempid","editItem","deleteItem","deleteItemConfirm","close","closeDelete","save","Object","send","url","put","store"],"sourceRoot":"src/components/table-lists","sources":["tabla-usuarios.vue"],"sourcesContent":["<template>\n  <div class=\"tabla\" id=\"app\">\n    <v-row>\n      <v-col cols=\"12\" sm=\"6\" md=\"4\">\n        <v-text-field\n          v-model=\"search\"\n          label=\"Buscar usuario\"\n          placeholder=\"Nombre, correo y rol\"\n          class=\"mx-4\"\n          id=\"onsearch\"\n        ></v-text-field>\n      </v-col>\n    </v-row>\n    <v-app id=\"inspire\">\n      <v-progress-linear\n        height=\"6\"\n        indeterminate\n        color=\"cyan\"\n        :active=\"cargando\"\n      ></v-progress-linear>\n      <v-data-table\n        id=\"tabla\"\n        :headers=\"headers\"\n        :items=\"usersArray\"\n        class=\"elevation-1\"\n        :search=\"search\"\n        :custom-filter=\"filterOnlyCapsText.toUpperCase\"\n      >\n        <template v-slot:top>\n          <v-toolbar flat>\n            <v-toolbar-title>Tabla usuarios</v-toolbar-title>\n            <v-divider class=\"mx-4\" inset vertical></v-divider>\n            <v-spacer></v-spacer>\n            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n              <v-card>\n                <v-card-title>\n                  <h1 class=\"headline\">{{ formTitle }}</h1>\n                </v-card-title>\n\n                <v-card-text>\n                  <v-container>\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          v-model=\"editedItem.name\"\n                          label=\"Nombre\"\n                        ></v-text-field>\n                      </v-col>\n\n                      <v-col cols=\"12\">\n                        <v-select\n                          v-model=\"selectrol\"\n                          :items=\"itemsrol\"\n                          v-on=\"usersync()\"\n                          item-text=\"name_rol\"\n                          item-value=\"rol_id\"\n                          label=\"Rol\"\n                        ></v-select>\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <v-text-field\n                          :append-icon=\"show3 ? 'mdi-eye' : 'mdi-eye-off'\"\n                          v-model=\"editedItem.password\"\n                          :type=\"show3 ? 'text' : 'password'\"\n                          hint=\"Minimo 8 caracteres\"\n                          :counter=\"8\"\n                          @click:append=\"show3 = !show3\"\n                          label=\"Contraseña\"\n                          placeholder=\"Contraseña\"\n                        >\n                        </v-text-field>\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card-text>\n\n                <v-card-actions v-on:keyup.enter=\"save\">\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"close\">\n                    Cancelar\n                  </v-btn>\n                  <v-btn color=\"blue darken-1\" text @click=\"save\">\n                    Guardar\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n            <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n              <v-card>\n                <v-card-title class=\"headline\"\n                  >¿Estas seguro de querer eliminarlo?</v-card-title\n                >\n                <v-card-actions v-on:keyup.enter=\"deleteItemConfirm\">\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                    >Cancelar</v-btn\n                  >\n                  <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                    >Aceptar</v-btn\n                  >\n                  <v-spacer></v-spacer>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n        <template v-slot:[`item.name_rol`]=\"{ item }\">\n          <v-chip :color=\"getColor(item.name_rol)\" dark>\n            {{ item.name_rol }}\n          </v-chip>\n        </template>\n        <template v-slot:[`item.actions`]=\"{ item }\">\n          <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\n            mdi-pencil\n          </v-icon>\n          <v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n        </template>\n        <template v-slot:no-data>\n          <span>Datos no disponibles.</span>\n        </template>\n      </v-data-table>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport store from \"@/store\";\nimport { upperConverter } from \"@/special/uppercases-converter.js\";\n//axios.defaults.withCredentials = true;\naxios.defaults.baseURL = \"http://127.0.0.1:8000/\";\nexport default {\n  name: \"tabla-usuarios\",\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    search: \"\",\n    password: \"\",\n    cargando: true,\n    show3: false,\n\n    headers: [\n      {\n        text: \"Nombre\",\n        align: \"start\",\n        sortable: false,\n        value: \"name\",\n      },\n\n      { text: \"Rol\", value: \"name_rol\" },\n\n      { text: \"Acciones\", value: \"actions\", sortable: false },\n    ],\n\n    usersArray: [],\n    //variable en la que se deposita la posicion en el selector\n    selectrol: null, //Rol\n\n    //Array en el que se deposita de los selectores.\n    itemsrol: [], //Rol\n\n    editedIndex: -1,\n    editedItem: {\n      id: \"\",\n      name: \"\",\n\n      password: \"\",\n      name_rol: \"\",\n    },\n    defaultItem: {\n      id: \"\",\n      name: \"\",\n\n      password: \"\",\n      name_rol: \"\",\n    },\n  }),\n\n  mounted() {\n    this.onFocus();\n    window.Echo.channel(\"users\").listen(\"userCreated\", (e) => {\n      this.usersArray = e.users;\n    });\n    window.Echo.channel(\"roles\").listen(\"rolCreated\", (e) => {\n      this.itemsrol = e.roles;\n    });\n\n    axios\n      .get(\"api/user\")\n      .then((response) => {\n        let user = response.data;\n\n        user.forEach((element) => {\n          let datos = {\n            id: element.id,\n            name: element.name,\n\n            name_rol: element.name_rol,\n          };\n          if (!datos) return;\n          this.usersArray.push(datos);\n        });\n        this.cargando = false;\n      })\n      .catch((error) => console.log(error));\n\n    axios\n      .get(\"api/rol\")\n      .then((response) => {\n        let categorias = response.data;\n\n        categorias.forEach((element) => {\n          let datos = {\n            rol_id: element.id,\n            name_rol: element.name_rol,\n          };\n\n          if (!datos) return;\n          this.itemsrol.push(datos);\n        });\n        this.cargando = false;\n      })\n      .catch((e) => {\n        console.log(e.message);\n      });\n  },\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"New Item\" : \"Editar usuario\";\n    },\n    progress() {\n      return Math.min(100, this.editedItem.password.length * 13);\n    },\n    color() {\n      return [\"error\", \"warning\", \"success\"][Math.floor(this.progress / 40)];\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  created() {},\n\n  methods: {\n    onFocus() {\n      let stext = document.getElementById(\"onsearch\");\n      stext;\n      stext = addEventListener(\"keydown\", (e) => {\n        if (e.altKey) {\n          document.getElementById(\"onsearch\").focus();\n        }\n      });\n    },\n    getColor(status) {\n      console.log(\"dato de status:\", status);\n      if (status == \"Administrativo\") {\n        return \"amber lighten-1\";\n      } else if (status == \"Meser@\") {\n        return \"cyan darken-1\";\n      } else if (status == \"Cajer@\") {\n        return \"purple darken-1\";\n      } else if (status == \"Bartender\") {\n        return \"pink darken-1\";\n      } else if (status == \"Intendencia\") {\n        return \"indigo lighten-1\";\n      }\n    },\n    filterOnlyCapsText(value, search) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().toLocaleUpperCase().indexOf(search) !== -1\n      );\n    },\n    usersync(recived) {\n      var tempid = null;\n      var tempname = null;\n      tempname;\n      if (this.itemsrol) {\n        let rol = this.itemsrol;\n        rol.forEach((element) => {\n          let datos = {\n            rol_id: element.rol_id,\n            name_rol: element.name_rol,\n          };\n          if (datos.name_rol === recived) {\n            tempid = datos.rol_id;\n            tempname = datos.name_rol;\n\n            this.selectrol = tempid;\n          }\n        });\n      }\n\n      return tempid;\n    },\n\n    editItem(item) {\n      this.editedIndex = this.usersArray.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n\n      if (this.editedItem.name_rol) {\n        //categoria\n        this.usersync(this.editedItem.name_rol);\n      }\n\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.usersArray.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n      let id = this.editedItem.id;\n      axios.delete(\"api/user/\" + id).catch((error) => console.log(error));\n    },\n\n    deleteItemConfirm() {\n      this.usersArray.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.usersArray[this.editedIndex], this.editedItem);\n        let send = this.editedItem;\n        send.name = upperConverter(send.name);\n        let url = \"api/user/\";\n\n        url = url + send.id;\n        url = `${url}?${\"name=\" + send.name}&${\"password=\" + send.password}&${\n          \"rol_id=\" + this.selectrol\n        }`;\n\n        axios\n          .put(url)\n          .then((response) => {\n            response;\n            store.commit(\"increment\", 1);\n          })\n          .catch((error) => console.log(error));\n        window.Echo.channel(\"users\").listen(\"userCreated\", (e) => {\n          this.usersArray = e.users;\n        });\n        window.Echo.channel(\"roles\").listen(\"rolCreated\", (e) => {\n          this.itemsrol = e.roles;\n        });\n      } else {\n        this.usersArray.push(this.editedItem);\n      }\n      this.close();\n    },\n  },\n};\n</script>\n\n<style scoped>\n#tabla {\n  width: 60rem;\n}\n.tabla {\n  width: 60rem;\n}\n</style>"]}]}