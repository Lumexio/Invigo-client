{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/global/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/global/login.vue","mtime":1642234406909},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/babel.config.js","mtime":1613441725648},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1642231925225},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1642231925691}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mc20vUHJvamVjdHMvd2ViLXBlcnNvbmFsL3BvY2tldHN0b2NrL3BvY2tldC1zdG9jay1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiKSwKICAgIHJlcXVpcmVkID0gX3JlcXVpcmUucmVxdWlyZWQsCiAgICBtaW5MZW5ndGggPSBfcmVxdWlyZS5taW5MZW5ndGg7CgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwpheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC8iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNyZWFydXN1YXJpbyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIC8vYUBhLmNvbS8vYkBiLmNvbQogICAgICBwYXNzd29yZDogIiIsCiAgICAgIC8vMTIzNDU2NzgKICAgICAgc2hvdzM6IGZhbHNlCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIG5hbWU6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgcGFzc3dvcmQ6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg4KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhc3N3b3JkRXJyb3JzOiBmdW5jdGlvbiBwYXNzd29yZEVycm9ycygpIHsKICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYucGFzc3dvcmQuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5wYXNzd29yZC5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goIkxhIGNvbnRyYXNlw7FhIGRlYmUgc2VyIDggY2FyYWN0ZXJlcyBkZSBsYXJnbywgbWluaW1vLiIpOwogICAgICAhdGhpcy4kdi5wYXNzd29yZC5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgiQ29udGFzZcOxYSByZXF1ZXJpZGEuIik7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uIHByb2dyZXNzKCkgewogICAgICByZXR1cm4gTWF0aC5taW4oMTAwLCB0aGlzLnBhc3N3b3JkLmxlbmd0aCAqIDEzKTsKICAgIH0sCiAgICBjb2xvcjogZnVuY3Rpb24gY29sb3IoKSB7CiAgICAgIHJldHVybiBbImVycm9yIiwgIndhcm5pbmciLCAic3VjY2VzcyJdW01hdGguZmxvb3IodGhpcy5wcm9ncmVzcyAvIDQwKV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBlbnZpYXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICAgICAgZW52aWFyID0gewogICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5uYW1lLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBheGlvcy5nZXQoInNhbmN0dW0vY3NyZi1jb29raWUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdCgiYXBpL2xvZ2luIiwgZW52aWFyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHZhciByb2wgPSByZXNwb25zZS5kYXRhLnVzZXIucm9sX2lkOwogICAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0cm9sIiwgcm9sKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhZG8gPSByZXNwb25zZS5yZXF1ZXN0LndpdGhDcmVkZW50aWFsczsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYWRvID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLnN0YXRlLnRva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHN0b3JlLnN0YXRlLnRva2VuOwogICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goImxvZ2luIiwgewogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChyb2wgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi91c3VhcmlvcyIpLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocm9sID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvYXJ0aWN1bG9zIikuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsaWRhZG8gPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJDdWFudGEgbm8gZXhpc3RlIG8gZXMgaW5jb3JyZWN0YSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLm5hbWUgPSAiIjsKICAgICAgdGhpcy5wYXNzd29yZCA9ICIiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"logcard\">\n    <div id=\"app\">\n      <v-app id=\"inspire\">\n        <v-card v-on:keyup.enter=\"login()\" class=\"cont-card\" elevation=\"2\">\n          <v-card-title class=\"fade-in-title\" style=\"font-size: 3rem\"\n            ><code class=\"font-weight-light\">Pocket</code\n            ><strong>stock</strong></v-card-title\n          >\n          <v-text-field v-model=\"name\" label=\"Nombre\" required></v-text-field>\n          <v-text-field\n            :append-icon=\"show3 ? 'mdi-eye' : 'mdi-eye-off'\"\n            v-model=\"password\"\n            :type=\"show3 ? 'text' : 'password'\"\n            class=\"input-group--focused\"\n            :counter=\"8\"\n            label=\"contraseÃ±a\"\n            :error-messages=\"passwordErrors\"\n            required\n            @click:append=\"show3 = !show3\"\n            @input=\"$v.password.$touch()\"\n            @blur=\"$v.password.$touch()\"\n            loading\n          >\n            <template v-slot:progress>\n              <v-progress-linear\n                :value=\"progress\"\n                :color=\"color\"\n                absolute\n                height=\"2\"\n              ></v-progress-linear>\n            </template>\n          </v-text-field>\n          <v-btn class=\"mr-4\" v-on:click=\"login()\" text> Iniciar sesiÃ³n </v-btn>\n          <v-btn @click=\"clear\" text> limpiar </v-btn>\n        </v-card>\n      </v-app>\n    </div>\n  </div>\n</template>\n\n<script>\nconst { required, minLength } = require(\"vuelidate/lib/validators\");\nimport axios from \"axios\";\n\nimport store from \"@/store\";\nimport router from \"@/router\";\n\naxios.defaults.withCredentials = true;\naxios.defaults.baseURL = \"http://127.0.0.1:8000/\";\nexport default {\n  name: \"crearusuario\",\n  data: () => ({\n    name: \"\",\n    email: \"\", //a@a.com//b@b.com\n    password: \"\", //12345678\n    show3: false,\n  }),\n\n  validations: {\n    name: { required },\n    password: { required, minLength: minLength(8) },\n  },\n  computed: {\n    passwordErrors() {\n      const errors = [];\n      if (!this.$v.password.$dirty) return errors;\n      !this.$v.password.minLength &&\n        errors.push(\"La contraseÃ±a debe ser 8 caracteres de largo, minimo.\");\n      !this.$v.password.required && errors.push(\"ContaseÃ±a requerida.\");\n      return errors;\n    },\n    progress() {\n      return Math.min(100, this.password.length * 13);\n    },\n    color() {\n      return [\"error\", \"warning\", \"success\"][Math.floor(this.progress / 40)];\n    },\n  },\n\n  methods: {\n    async login() {\n      this.$v.$touch();\n      let enviar = {\n        name: this.name,\n        password: this.password,\n      };\n      axios\n        .get(\"sanctum/csrf-cookie\")\n        .then((response) => {\n          response;\n          axios\n            .post(\"api/login\", enviar)\n            .then((response) => {\n              let rol = response.data.user.rol_id;\n              store.commit(\"setrol\", rol);\n\n              let validado = response.request.withCredentials;\n              if (validado == true) {\n                store.state.token = response.data.token;\n                let token = store.state.token;\n                store.dispatch(\"login\", { token });\n                if (rol === 1) {\n                  router.push(\"/usuarios\").catch(() => {});\n                } else if (rol === 2) {\n                  router.push(\"/articulos\").catch(() => {});\n                }\n              } else if (validado == false) {\n                alert(\"Cuanta no existe o es incorrecta\");\n              }\n            })\n            .catch((e) => {\n              console.log(e);\n            });\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n    clear() {\n      this.name = \"\";\n      this.password = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.logcard {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 15rem;\n}\n\n.cont-card {\n  padding: 1rem;\n  width: 24em;\n}\n\n.fade-in-title {\n  animation: fadeIn 5s;\n  -webkit-animation: fadeIn 5s;\n  -moz-animation: fadeIn 5s;\n  -o-animation: fadeIn 5s;\n  -ms-animation: fadeIn 5s;\n}\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@-moz-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@-o-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@-ms-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>"],"sourceRoot":"src/components/global"}]}