{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-activitylog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-activitylog.vue","mtime":1660081311982},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/babel.config.js","mtime":1660081311958},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1660080774033},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1660080780218}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0QWN0aXZpdHlsb2cgfSBmcm9tICJAL2FwaS9hY3Rpdml0eWxvZy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidGFibGEtYWN0aXZpdHlsb2ciLAogIGRhdGE6ICgpID0+ICh7CiAgICBzZWFyY2g6ICIiLAogICAgY2FyZ2FuZG86IHRydWUsCiAgICBleHBhbmRlZDogW10sCiAgICBoZWFkZXJzOiBbewogICAgICB0ZXh0OiAiQWN0aXZpZGFkIiwKICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6ICJhY2Npb24iCiAgICB9LCB7CiAgICAgIHRleHQ6ICJSZXNwb25zYWJsZSIsCiAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiAiY2F1c2VybmFtZSIKICAgIH0sIHsKICAgICAgdGV4dDogIkNyZWFkbyBlbiIsCiAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiAiY3JlYXRlZGF0IgogICAgfSwgewogICAgICB0ZXh0OiAiQWN0dWFsaXphZG8gZW4iLAogICAgICBhbGlnbjogInN0YXJ0IiwKICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogInVwZGF0ZWRhdCIKICAgIH0sIHsKICAgICAgdGV4dDogIkRlc2NyaXBjacOzbiIsCiAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICB2YWx1ZTogImRhdGEtdGFibGUtZXhwYW5kIgogICAgfV0sCiAgICBhY3Rpdml0eWxvZ0FycmF5OiBbXQogIH0pLAoKICBtb3VudGVkKCkgewogICAgdGhpcy5vbkZvY3VzKCk7IC8vIHdpbmRvdy5FY2hvLmNoYW5uZWwoImFjdGl2aXR5bG9nIikubGlzdGVuKCJhY3Rpdml0eWxvZ0NyZWF0ZWQiLCAoZSkgPT4gewogICAgLy8gICB0aGlzLmFjdGl2aXR5bG9nQXJyYXkgPSBlLmFjdGl2aXR5bG9nOwogICAgLy8gfSk7CgogICAgZ2V0QWN0aXZpdHlsb2codGhpcy5hY3Rpdml0eWxvZ0FycmF5KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgaWYgKHJlc3BvbnNlLnN0YXRzID09PSAyMDApIHsKICAgICAgICB0aGlzLmNhcmdhbmRvID0gZmFsc2U7CiAgICAgIH0KICAgIH0pLmNhdGNoKGUgPT4gewogICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgdGhpcy5jYXJnYW5kbyA9IHRydWU7CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkZvY3VzKCkgewogICAgICBsZXQgc3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib25zZWFyY2giKTsKICAgICAgc3RleHQ7CiAgICAgIHN0ZXh0ID0gYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGUgPT4gewogICAgICAgIGlmIChlLmFsdEtleSkgewogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9uc2VhcmNoIikuZm9jdXMoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBmaWx0ZXJPbmx5Q2Fwc1RleHQodmFsdWUsIHNlYXJjaCkgewogICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBzZWFyY2ggIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmIHZhbHVlLnRvU3RyaW5nKCkudG9Mb2NhbGVVcHBlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgIT09IC0xOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AA4CA;AAEA;EACAA,yBADA;EAEAC;IACAC,UADA;IAEAC,cAFA;IAGAC,YAHA;IAIAC,UACA;MACAC,iBADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MACAH,mBADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CAPA,EAaA;MACAH,iBADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CAbA,EAmBA;MACAH,sBADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CAnBA,EAyBA;MAAAH;MAAAC;MAAAE;IAAA,CAzBA,CAJA;IAgCAC;EAhCA,EAFA;;EAoCAC;IACA,eADA,CAEA;IACA;IACA;;IACAC,sCACAC,IADA,CACAC;MACA;QACA;MACA;IACA,CALA,EAMAC,KANA,CAMAC;MACAC;MACA;IACA,CATA;EAUA,CAnDA;;EAoDAC;IACAC;MACA;MACAC;MACAA;QACA;UACAC;QACA;MACA,CAJA;IAKA,CATA;;IAUAC;MACA,OACAb,iBACAP,cADA,IAEA,yBAFA,IAGAO,2DAJA;IAMA;;EAjBA;AApDA","names":["name","data","search","cargando","expanded","headers","text","align","sortable","value","activitylogArray","mounted","getActivitylog","then","response","catch","e","console","methods","onFocus","stext","document","filterOnlyCapsText"],"sourceRoot":"src/components/table-lists","sources":["tabla-activitylog.vue"],"sourcesContent":["<template>\n  <v-data-table\n    :dark=\"this.$store.getters.hasdarkflag\"\n    id=\"tabla\"\n    :headers=\"headers\"\n    show-expand\n    :expanded.sync=\"expanded\"\n    :items=\"activitylogArray\"\n    sort-by=\"cantidad_articulo\"\n    class=\"elevation-1\"\n    :search=\"search\"\n    :custom-filter=\"filterOnlyCapsText.toUpperCase\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"transparent\">\n        <v-toolbar-title>Tabla historial</v-toolbar-title>\n        <v-divider class=\"ml-4\" inset vertical></v-divider>\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          label=\"Buscar actividad\"\n          class=\"mt-4\"\n          id=\"onsearch\"\n        ></v-text-field>\n      </v-toolbar>\n      <v-progress-linear\n        height=\"6\"\n        indeterminate\n        color=\"cyan\"\n        :active=\"cargando\"\n      ></v-progress-linear\n    ></template>\n    <template v-slot:no-data>\n      <span>Datos no disponibles.</span>\n    </template>\n    <template v-slot:expanded-item=\"{ headers, item }\">\n      <td :colspan=\"headers.length\">\n        {{ item.properties }}\n      </td>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport { getActivitylog } from \"@/api/activitylog.js\";\n\nexport default {\n  name: \"tabla-activitylog\",\n  data: () => ({\n    search: \"\",\n    cargando: true,\n    expanded: [],\n    headers: [\n      {\n        text: \"Actividad\",\n        align: \"start\",\n        sortable: false,\n        value: \"accion\",\n      },\n      {\n        text: \"Responsable\",\n        align: \"start\",\n        sortable: false,\n        value: \"causername\",\n      },\n      {\n        text: \"Creado en\",\n        align: \"start\",\n        sortable: false,\n        value: \"createdat\",\n      },\n      {\n        text: \"Actualizado en\",\n        align: \"start\",\n        sortable: false,\n        value: \"updatedat\",\n      },\n      { text: \"DescripciÃ³n\", align: \"start\", value: \"data-table-expand\" },\n    ],\n\n    activitylogArray: [],\n  }),\n  mounted() {\n    this.onFocus();\n    // window.Echo.channel(\"activitylog\").listen(\"activitylogCreated\", (e) => {\n    //   this.activitylogArray = e.activitylog;\n    // });\n    getActivitylog(this.activitylogArray)\n      .then((response) => {\n        if (response.stats === 200) {\n          this.cargando = false;\n        }\n      })\n      .catch((e) => {\n        console.log(e);\n        this.cargando = true;\n      });\n  },\n  methods: {\n    onFocus() {\n      let stext = document.getElementById(\"onsearch\");\n      stext;\n      stext = addEventListener(\"keydown\", (e) => {\n        if (e.altKey) {\n          document.getElementById(\"onsearch\").focus();\n        }\n      });\n    },\n    filterOnlyCapsText(value, search) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().toLocaleUpperCase().indexOf(search) !== -1\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n#tabla {\n  width: 100%;\n}\n.tabla {\n  width: 100%;\n}\n</style>"]}]}