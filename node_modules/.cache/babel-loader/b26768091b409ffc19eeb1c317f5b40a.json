{"remainingRequest":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/thread-loader/dist/cjs.js!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-marca.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/src/components/table-lists/tabla-marca.vue","mtime":1660081311983},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/babel.config.js","mtime":1660081311958},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/thread-loader/dist/cjs.js","mtime":1642231923880},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/babel-loader/lib/index.js","mtime":1660080774033},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/cache-loader/dist/cjs.js","mtime":1642231923881},{"path":"/Users/fsm/Projects/web-personal/pocketstock/pocket-stock-front/node_modules/vue-loader/lib/index.js","mtime":1660080780218}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0TWFyY2FzLCBlZGl0TWFyY2FzLCBkZWxldGVNYXJjYXMgfSBmcm9tICJAL2FwaS9tYXJjYXMuanMiOwppbXBvcnQgeyB1cHBlckNvbnZlcnRlciB9IGZyb20gIkAvc3BlY2lhbC91cHBlcmNhc2VzLWNvbnZlcnRlci5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBub21icmVfbWFyY2E6ICJ0YWJsYS1tYXJjYSIsCiAgZGF0YTogKCkgPT4gKHsKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgc2VhcmNoOiAiIiwKICAgIGNhcmdhbmRvOiB0cnVlLAogICAgZXhwYW5kZWQ6IFtdLAogICAgaGVhZGVyczogW3sKICAgICAgdGV4dDogIk1hcmNhcyIsCiAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiAibm9tYnJlX21hcmNhIgogICAgfSwgewogICAgICB0ZXh0OiAiQWNjaW9uZXMiLAogICAgICB2YWx1ZTogImFjdGlvbnMiLAogICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgIGFsaWduOiAiY2VudGVyIgogICAgfSwgewogICAgICB0ZXh0OiAiRGVzY3JpcGNpw7NuIiwKICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgIHZhbHVlOiAiZGF0YS10YWJsZS1leHBhbmQiCiAgICB9XSwKICAgIG1hcmNhQXJyYXk6IFtdLAogICAgZWRpdGVkSW5kZXg6IC0xLAogICAgZWRpdGVkSXRlbTogewogICAgICBpZDogIiIsCiAgICAgIG5vbWJyZV9tYXJjYTogIiIKICAgIH0sCiAgICBkZWZhdWx0SXRlbTogewogICAgICBpZDogIiIsCiAgICAgIG5vbWJyZV9tYXJjYTogIiIKICAgIH0KICB9KSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMub25Gb2N1cygpOwogICAgd2luZG93LkVjaG8uY2hhbm5lbCgibWFyY2FzIikubGlzdGVuKCJtYXJjYUNyZWF0ZWQiLCBlID0+IHsKICAgICAgdGhpcy5tYXJjYUFycmF5ID0gZS5tYXJjYXM7CiAgICB9KTsKICAgIGdldE1hcmNhcyh0aGlzLm1hcmNhQXJyYXkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBpZiAocmVzcG9uc2Uuc3RhdHMgPT09IDIwMCkgewogICAgICAgIHRoaXMuY2FyZ2FuZG8gPSBmYWxzZTsKICAgICAgfQogICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB0aGlzLmNhcmdhbmRvID0gdHJ1ZTsKICAgIH0pOwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICJOZXcgSXRlbSIgOiAiRWRpdGFyIG1hcmNhIjsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKCiAgICBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgb25Gb2N1cygpIHsKICAgICAgbGV0IHN0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9uc2VhcmNoIik7CiAgICAgIHN0ZXh0OwogICAgICBzdGV4dCA9IGFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBlID0+IHsKICAgICAgICBpZiAoZS5hbHRLZXkpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvbnNlYXJjaCIpLmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgZmlsdGVyT25seUNhcHNUZXh0KHZhbHVlLCBzZWFyY2gpIHsKICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgc2VhcmNoICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAic3RyaW5nIiAmJiB2YWx1ZS50b1N0cmluZygpLnRvTG9jYWxlVXBwZXJDYXNlKCkuaW5kZXhPZihzZWFyY2gpICE9PSAtMTsKICAgIH0sCgogICAgZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5tYXJjYUFycmF5LmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5tYXJjYUFycmF5LmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CiAgICAgIGxldCBpZCA9IHRoaXMuZWRpdGVkSXRlbS5pZDsKICAgICAgZGVsZXRlTWFyY2FzKGlkKTsKICAgIH0sCgogICAgZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMubWFyY2FBcnJheS5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSk7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICBjbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMubWFyY2FBcnJheVt0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgICBsZXQgc2VuZCA9IHRoaXMuZWRpdGVkSXRlbTsKICAgICAgICBzZW5kLm5vbWJyZV9tYXJjYSA9IHVwcGVyQ29udmVydGVyKHNlbmQubm9tYnJlX21hcmNhKTsKICAgICAgICBsZXQgdXJsID0gImFwaS9tYXJjYS8iOwogICAgICAgIHVybCA9IHVybCArIHNlbmQuaWQ7CiAgICAgICAgdXJsID0gYCR7dXJsfT8keyJub21icmVfbWFyY2E9IiArIHNlbmQubm9tYnJlX21hcmNhfWA7CiAgICAgICAgZWRpdE1hcmNhcyh1cmwpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWFyY2FBcnJheS5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAoGA;AACA;AACA;EACAA,2BADA;EAEAC;IACAC,aADA;IAEAC,mBAFA;IAGAC,UAHA;IAIAC,cAJA;IAKAC,YALA;IAMAC,UACA;MACAC,cADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC;IAJA,CADA,EAOA;MAAAH;MAAAG;MAAAD;MAAAD;IAAA,CAPA,EAQA;MAAAD;MAAAC;MAAAE;IAAA,CARA,CANA;IAiBAC,cAjBA;IAmBAC,eAnBA;IAoBAC;MACAC,MADA;MAEAf;IAFA,CApBA;IAwBAgB;MACAD,MADA;MAEAf;IAFA;EAxBA,EAFA;;EA+BAiB;IACA;IACAC;MACA;IACA,CAFA;IAGAC,2BACAC,IADA,CACAC;MACA;QACA;MACA;IACA,CALA,EAMAC,KANA,CAMAC;MACAC;MACA;IACA,CATA;EAUA,CA9CA;;EAgDAC;IACAC;MACA;IACA;;EAHA,CAhDA;EAsDAC;IACAzB;MACA0B;IACA,CAHA;;IAIAzB;MACAyB;IACA;;EANA,CAtDA;;EA+DAC,YA/DA;;EAiEAC;IACAC;MACA;MACAC;MACAA;QACA;UACAC;QACA;MACA,CAJA;IAKA,CATA;;IAUAC;MACA,OACAvB,iBACAP,cADA,IAEA,yBAFA,IAGAO,2DAJA;IAMA,CAjBA;;IAmBAwB;MACA;MACA;MAEA;IACA,CAxBA;;IA0BAC;MACA;MACA;MACA;MACA;MACAC;IACA,CAhCA;;IAkCAC;MACA;MACA;IACA,CArCA;;IAuCAC;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CA7CA;;IA+CAC;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CArDA;;IAuDAC;MACA;QACAC;QACA;QACAC;QACA;QAEAC;QACAA;QACAC;MACA,CATA,MASA;QACA;MACA;;MACA;IACA;;EArEA;AAjEA","names":["nombre_marca","data","dialog","dialogDelete","search","cargando","expanded","headers","text","align","sortable","value","marcaArray","editedIndex","editedItem","id","defaultItem","mounted","window","getMarcas","then","response","catch","e","console","computed","formTitle","watch","val","created","methods","onFocus","stext","document","filterOnlyCapsText","editItem","deleteItem","deleteMarcas","deleteItemConfirm","close","closeDelete","save","Object","send","url","editMarcas"],"sourceRoot":"src/components/table-lists","sources":["tabla-marca.vue"],"sourcesContent":["<template>\n\t<v-data-table\n\t\t:dark=\"this.$store.getters.hasdarkflag\"\n\t\tid=\"tabla\"\n\t\t:headers=\"headers\"\n\t\tshow-expand\n\t\t:expanded.sync=\"expanded\"\n\t\t:items=\"marcaArray\"\n\t\tsort-by=\"cantidad_articulo\"\n\t\tclass=\"elevation-1\"\n\t\t:search=\"search\"\n\t\t:custom-filter=\"filterOnlyCapsText.toUpperCase\"\n\t>\n\t\t<template v-slot:top>\n\t\t\t<v-toolbar flat color=\"transparent\">\n\t\t\t\t<v-toolbar-title>Tabla marca</v-toolbar-title>\n\t\t\t\t<v-divider inset vertical class=\"ml-4\"></v-divider>\n\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t<v-text-field\n\t\t\t\t\tv-model=\"search\"\n\t\t\t\t\tlabel=\"Buscar marca\"\n\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\tid=\"onsearch\"\n\t\t\t\t></v-text-field>\n\t\t\t</v-toolbar>\n\t\t\t<v-progress-linear\n\t\t\t\theight=\"6\"\n\t\t\t\tindeterminate\n\t\t\t\tcolor=\"cyan\"\n\t\t\t\t:active=\"cargando\"\n\t\t\t>\n\t\t\t</v-progress-linear>\n\t\t\t<v-dialog\n\t\t\t\t:dark=\"$store.getters.hasdarkflag\"\n\t\t\t\tv-model=\"dialog\"\n\t\t\t\tmax-width=\"500px\"\n\t\t\t>\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-card-title>\n\t\t\t\t\t\t<h1 class=\"headline\">{{ formTitle }}</h1>\n\t\t\t\t\t</v-card-title>\n\n\t\t\t\t\t<v-card-text>\n\t\t\t\t\t\t<v-container>\n\t\t\t\t\t\t\t<v-row>\n\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\n\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\tv-model=\"editedItem.nombre_marca\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nombre\"\n\t\t\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t</v-container>\n\t\t\t\t\t</v-card-text>\n\n\t\t\t\t\t<v-card-actions v-on:keyup.enter=\"save\">\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"close\"> Cancelar </v-btn>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"save\"> Guardar </v-btn>\n\t\t\t\t\t</v-card-actions>\n\t\t\t\t</v-card>\n\t\t\t</v-dialog>\n\t\t\t<v-dialog\n\t\t\t\t:dark=\"$store.getters.hasdarkflag\"\n\t\t\t\tv-model=\"dialogDelete\"\n\t\t\t\tmax-width=\"500px\"\n\t\t\t>\n\t\t\t\t<v-card>\n\t\t\t\t\t<v-card-title class=\"headline\"\n\t\t\t\t\t\t>¿Estas seguro de querer eliminarlo?</v-card-title\n\t\t\t\t\t>\n\t\t\t\t\t<v-card-actions v-on:keyup.enter=\"deleteItemConfirm\">\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n\t\t\t\t\t\t\t>Cancelar</v-btn\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n\t\t\t\t\t\t\t>Aceptar</v-btn\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t</v-card-actions>\n\t\t\t\t</v-card>\n\t\t\t</v-dialog>\n\t\t</template>\n\t\t<template v-slot:[`item.actions`]=\"{ item }\">\n\t\t\t<v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n\t\t\t<v-icon small @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n\t\t</template>\n\t\t<template v-slot:no-data>\n\t\t\t<span>Datos no disponibles.</span>\n\t\t</template>\n\t\t<template v-slot:expanded-item=\"{ headers, item }\">\n\t\t\t<td :colspan=\"headers.length\">\n\t\t\t\t{{ item.descripcion_marca }}\n\t\t\t</td>\n\t\t</template>\n\t</v-data-table>\n</template>\n\n<script>\nimport { getMarcas, editMarcas, deleteMarcas } from \"@/api/marcas.js\";\nimport { upperConverter } from \"@/special/uppercases-converter.js\";\nexport default {\n\tnombre_marca: \"tabla-marca\",\n\tdata: () => ({\n\t\tdialog: false,\n\t\tdialogDelete: false,\n\t\tsearch: \"\",\n\t\tcargando: true,\n\t\texpanded: [],\n\t\theaders: [\n\t\t\t{\n\t\t\t\ttext: \"Marcas\",\n\t\t\t\talign: \"start\",\n\t\t\t\tsortable: false,\n\t\t\t\tvalue: \"nombre_marca\",\n\t\t\t},\n\t\t\t{ text: \"Acciones\", value: \"actions\", sortable: false, align: \"center\" },\n\t\t\t{ text: \"Descripción\", align: \"start\", value: \"data-table-expand\" },\n\t\t],\n\n\t\tmarcaArray: [],\n\n\t\teditedIndex: -1,\n\t\teditedItem: {\n\t\t\tid: \"\",\n\t\t\tnombre_marca: \"\",\n\t\t},\n\t\tdefaultItem: {\n\t\t\tid: \"\",\n\t\t\tnombre_marca: \"\",\n\t\t},\n\t}),\n\tmounted() {\n\t\tthis.onFocus();\n\t\twindow.Echo.channel(\"marcas\").listen(\"marcaCreated\", (e) => {\n\t\t\tthis.marcaArray = e.marcas;\n\t\t});\n\t\tgetMarcas(this.marcaArray)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.stats === 200) {\n\t\t\t\t\tthis.cargando = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.log(e);\n\t\t\t\tthis.cargando = true;\n\t\t\t});\n\t},\n\n\tcomputed: {\n\t\tformTitle() {\n\t\t\treturn this.editedIndex === -1 ? \"New Item\" : \"Editar marca\";\n\t\t},\n\t},\n\n\twatch: {\n\t\tdialog(val) {\n\t\t\tval || this.close();\n\t\t},\n\t\tdialogDelete(val) {\n\t\t\tval || this.closeDelete();\n\t\t},\n\t},\n\n\tcreated() {},\n\n\tmethods: {\n\t\tonFocus() {\n\t\t\tlet stext = document.getElementById(\"onsearch\");\n\t\t\tstext;\n\t\t\tstext = addEventListener(\"keydown\", (e) => {\n\t\t\t\tif (e.altKey) {\n\t\t\t\t\tdocument.getElementById(\"onsearch\").focus();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tfilterOnlyCapsText(value, search) {\n\t\t\treturn (\n\t\t\t\tvalue != null &&\n\t\t\t\tsearch != null &&\n\t\t\t\ttypeof value === \"string\" &&\n\t\t\t\tvalue.toString().toLocaleUpperCase().indexOf(search) !== -1\n\t\t\t);\n\t\t},\n\n\t\teditItem(item) {\n\t\t\tthis.editedIndex = this.marcaArray.indexOf(item);\n\t\t\tthis.editedItem = Object.assign({}, item);\n\n\t\t\tthis.dialog = true;\n\t\t},\n\n\t\tdeleteItem(item) {\n\t\t\tthis.editedIndex = this.marcaArray.indexOf(item);\n\t\t\tthis.editedItem = Object.assign({}, item);\n\t\t\tthis.dialogDelete = true;\n\t\t\tlet id = this.editedItem.id;\n\t\t\tdeleteMarcas(id);\n\t\t},\n\n\t\tdeleteItemConfirm() {\n\t\t\tthis.marcaArray.splice(this.editedIndex, 1);\n\t\t\tthis.closeDelete();\n\t\t},\n\n\t\tclose() {\n\t\t\tthis.dialog = false;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\n\t\t\t\tthis.editedIndex = -1;\n\t\t\t});\n\t\t},\n\n\t\tcloseDelete() {\n\t\t\tthis.dialogDelete = false;\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.editedItem = Object.assign({}, this.defaultItem);\n\t\t\t\tthis.editedIndex = -1;\n\t\t\t});\n\t\t},\n\n\t\tsave() {\n\t\t\tif (this.editedIndex > -1) {\n\t\t\t\tObject.assign(this.marcaArray[this.editedIndex], this.editedItem);\n\t\t\t\tlet send = this.editedItem;\n\t\t\t\tsend.nombre_marca = upperConverter(send.nombre_marca);\n\t\t\t\tlet url = \"api/marca/\";\n\n\t\t\t\turl = url + send.id;\n\t\t\t\turl = `${url}?${\"nombre_marca=\" + send.nombre_marca}`;\n\t\t\t\teditMarcas(url);\n\t\t\t} else {\n\t\t\t\tthis.marcaArray.push(this.editedItem);\n\t\t\t}\n\t\t\tthis.close();\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n#tabla {\n\tmin-width: 100%;\n}\n</style>"]}]}